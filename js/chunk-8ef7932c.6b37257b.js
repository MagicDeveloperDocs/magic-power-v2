(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8ef7932c"],{"5fed":function(t,e,n){"use strict";n("6e79")},"6e79":function(t,e,n){},"7cf4":function(t,e,n){},eb88:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("notify",{ref:"notify"}),n("div",{staticClass:"banner"},[n("h2",[t._v(t._s(t.$t("收益魔法")))]),n("p",[t._v(t._s(t.$t("魔力全球宣传大使计划")))])]),n("div",{staticClass:"mp"},[n("li",[n("a",[n("i",{staticClass:"mlogo"}),n("span",[t._v(t._s(t.$t("总收益（MGP）")))]),n("p"),n("h5",[t._v(" "+t._s(t._f("toThousands")(t._f("toFixed")(t.mfCoin,2)))),n("cite",[n("r",[t._v("≈")]),t._v(" $"+t._s(t._f("toThousands")(t._f("toFixed")(t.gz1,2))))],1)]),n("u")])]),n("li",[n("a",[n("i",{staticClass:"mlogo"}),n("span",[t._v(t._s(t.$t("可提收益（MGP）")))]),n("p"),n("h5",[t._v(" "+t._s(t._f("toThousands")(t._f("toFixed")(t.realCoin,2)))),n("cite",[n("r",[t._v("≈")]),t._v(" $"+t._s(t._f("toThousands")(t._f("toFixed")(t.gz2,2))))],1)]),n("u")])]),n("li",[n("a",[n("i",{staticClass:"ico-coin-mp"}),n("span",[t._v(t._s(t.$t("可用X-MP")))]),n("p"),n("h5",[t._v(" "+t._s(t._f("toThousands")(t._f("toFixed")(t.maxMp,2)))+" ")]),n("u")])])]),n("a",{staticClass:"btn confirm withdraw-open",on:{click:t.withdrawal}},[n("i",{staticClass:"ico ico-kabaw"}),t._v(" "+t._s(t.$t("提币"))+" "),n("shadow")])],1)},i=[],o=n("1da1"),s=n("ade3"),r=(n("96cf"),n("b680"),n("ee7a")),c=n("901e"),u=n.n(c),l={name:"index",components:{Notify:r["a"]},data:function(){return{timeoutId:null,realCoin:"0",mpBalance:"0",maxMp:"0",mfCoin:"0",gz2:"0",gz1:"0"}},watch:Object(s["a"])({},"$store.state.walletAddress",(function(){this.init()})),methods:{rest:function(){Object.assign(this.$data,{timeoutId:null,realCoin:"0",mpBalance:"0",maxMp:"0",mfCoin:"0",gz2:"0",gz1:"0"})},init:function(){var t=arguments,e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=!(t.length>0&&void 0!==t[0])||t[0],a&&e.rest(),!e.$store.state.walletConnect){n.next=19;break}return n.prev=3,a&&e.$loading.show(),n.next=7,e.$api.getConnect().tradeApi().stakingInfo();case 7:i=n.sent,e.mfCoin=i.reward,e.realCoin=i.maxReward,e.gz1=new u.a(i.reward).multipliedBy(i.mgpPrice).toFixed(),e.gz2=new u.a(i.maxReward).multipliedBy(i.mgpPrice).toFixed(),e.mpBalance=i.XMPBalance,e.maxMp=i.maxMp,e.timeoutId=setTimeout((function(){e.init(!1)}),1e4);case 16:return n.prev=16,a&&e.$loading.hide(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[3,,16,19]])})))()},withdrawal:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$loading.show(),e.prev=1,e.next=4,t.$api.getConnect().tradeApi().claim(t.maxMp);case 4:return n=e.sent,t.$refs.notify.show(n.getHash()),e.next=8,n.confirm();case 8:return t.$toast(t.$t("提取成功")),e.next=11,t.init();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),t.$toast(e.t0.message);case 16:return e.prev=16,t.$loading.hide(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})))()}},beforeDestroy:function(){null!=this.timeoutId&&clearTimeout(this.timeoutId)},mounted:function(){this.init()}},f=l,d=n("2877"),p=Object(d["a"])(f,a,i,!1,null,"5275aef8",null);e["default"]=p.exports},ee7a:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-notify",{staticStyle:{opacity:"0.8"},attrs:{type:"success",background:"#2464f6"},model:{value:t.notify.show,callback:function(e){t.$set(t.notify,"show",e)},expression:"notify.show"}},[n("div",{staticClass:"flex align-center justify-between notify"},[n("a",{staticClass:"link flex align-center justify-between",attrs:{href:t.etherscan,target:"_blank"}},[n("div",{staticClass:"flex align-center left bbo"},[n("van-icon",{staticClass:"right",attrs:{name:"passed"}}),n("span",{staticClass:"ellipsis"},[t._v(" "+t._s(t.notify.tx))])],1),n("van-icon",{staticClass:"right",attrs:{name:"arrow"}})],1)])])],1)},i=[],o=(n("3cd0"),n("1a44"),n("acc2"),n("ad06")),s=(n("1812"),n("5e5e"),n("7cf4"),n("c31d")),r=n("2b0e"),c=n("2638"),u=n.n(c),l=n("d282"),f=n("ba31"),d=n("6605"),p=n("e41f"),m=Object(l["a"])("notify"),h=m[0],v=m[1];function g(t,e,n,a){var i={color:e.color,background:e.background};return t(p["a"],u()([{attrs:{value:e.value,position:"top",overlay:!1,duration:.2,lockScroll:!1},style:i,class:[v([e.type]),e.className]},Object(f["a"])(a,!0)]),[(null==n.default?void 0:n.default())||e.message])}g.props=Object(s["a"])({},d["b"],{color:String,message:[Number,String],duration:[Number,String],className:null,background:String,getContainer:[String,Function],type:{type:String,default:"danger"}});var w,b,_=h(g),x=n("a142");function y(t){return Object(x["e"])(t)?t:{message:t}}function C(t){if(!x["f"])return b||(b=Object(f["b"])(_,{on:{click:function(t){b.onClick&&b.onClick(t)},close:function(){b.onClose&&b.onClose()},opened:function(){b.onOpened&&b.onOpened()}}})),t=Object(s["a"])({},C.currentOptions,y(t)),Object(s["a"])(b,t),clearTimeout(w),t.duration&&t.duration>0&&(w=setTimeout(C.clear,t.duration)),b}function $(){return{type:"danger",value:!0,message:"",color:void 0,background:void 0,duration:3e3,className:"",onClose:null,onClick:null,onOpened:null}}C.clear=function(){b&&(b.value=!1)},C.currentOptions=$(),C.setDefaultOptions=function(t){Object(s["a"])(C.currentOptions,t)},C.resetDefaultOptions=function(){C.currentOptions=$()},C.install=function(){r["a"].use(_)},C.Component=_,r["a"].prototype.$notify=C;var k=C,O=n("365c"),j={name:"notify",components:{"van-notify":k.Component,"van-icon":o["a"]},computed:{etherscan:function(){return O["a"].goEtherscanTx(this.notify.tx)}},data:function(){return{notify:{show:!1,tx:""}}},methods:{show:function(t){var e=this;this.notify.tx=t,this.notify.show=!0,setTimeout((function(){e.notify.show=!1}),5e3)}}},T=j,M=(n("5fed"),n("2877")),z=Object(M["a"])(T,a,i,!1,null,"7ca36873",null);e["a"]=z.exports}}]);